session_name: subt_localization

suppress_history: false

start_directory: .

windows:
  - window_name: core
    focus: false
    layout: tiled
    panes:
      - shell_command:
        - cat passwd | sudo --stdin -E bash docker_start.bash
        - sudo docker exec --privileged -it super_odom bash
        - roscore
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - source /root/subt_ws/devel/setup.bash
        - roslaunch --wait velodyne_pointcloud VLP16_points.launch
  - window_name: nodes
    focus: true
    layout: tiled
    panes:
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - cd /root/subt_ws/src/subt_state_estimation/super_odometry
        - rm config/ugv.yaml launch/ugv_offline.launch
        - cp config/ugv.yaml.bak config/ugv.yaml
        - cp launch/ugv_offline.launch.bak launch/ugv_offline.launch
        - cd /root/subt_ws
        - source devel/setup.bash
        - roslaunch --wait super_odometry ugv_offline.launch
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - source /root/subt_ws/devel/setup.bash
        - roslaunch --wait vins_estimator cam1_debug.launch
      - shell_command:
        - sleep 7
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged --env NAMESPACE=${NAMESPACE} -it super_odom bash
        - cd /media/drive
        - rosbag play *.bag --clock --topic ${NAMESPACE}/camera_1/image_raw /thermal/image ${NAMESPACE}/imu/data ${NAMESPACE}/velodyne_packets ${NAMESPACE}/camera_1/image_raw:=/camera_1/image_raw ${NAMESPACE}/imu/data:=/imu/data ${NAMESPACE}/velodyne_packets:=/velodyne_packets
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - source /root/subt_ws/devel/setup.bash
        - rosrun super_odometry commander_node
  - window_name: misc
    focus: false
    layout: tiled
    panes:
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - cd /root/subt_ws
        - source devel/setup.bash
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - cd /root/subt_ws
        - source devel/setup.bash
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - cd /root/subt_ws
        - source devel/setup.bash
      - shell_command:
        - sleep 1
        - cat passwd | sudo --stdin whoami
        - docker exec --privileged -it super_odom bash
        - sleep 9
        - rviz -d /root/subt_ws/src/subt_state_estimation/subt_ground.rviz
