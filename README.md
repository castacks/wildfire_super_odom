# First things first, manually obtain initial poses
# If you want to run Super Odometry locally
## Environment setup
```bash
cd subt_localization_ws/operations
```
Put your sudo password in the file "passwd" in the current working directory.
```bash
cat passwd | sudo --stdin chmod 600 passwd
```
```bash
cat passwd | sudo --stdin bash docker_setup.bash
```
```bash
pip3 install bagpy
```
You may need to install other Python3 packages.
## Run localization algorithm
```bash
export EXTERNAL_PATH="/a/directory/to/be/mapped/inside/docker"
## Note: this directory should contain the dataset folders and output folders.
```
Set up configurations in the file "config.json" in the current working directory. The fields are
- datapath
  This is a folder's relative path to EXTERNAL_PATH. The folder contains bag files of a trajectory.
- namespace
  Namespace here refers to the prefix of sensor topics in the bag files. For example, if there is a topic called "/cmu_rc7/imu/data" in the bag files, the namespace should be "cmu_rc7".
- dataconfig
  The name of the file containing initial pose in "subt_localization_ws/src/subt_state_estimation/super_odometry/config/dataset". The path to this file should not be included.
- cloudpath
  This is a folder's relative path to EXTERNAL_PATH. The folder contains the ground truth map.
- outputpath
  This is a folder's relative path to EXTERNAL_PATH. The folder should exist and will be stored with csv files, pcd files, etc., generated by Super Odometry.
- start_time
  This is the relative time in seconds to the start time of bag files, from which the bag files will be played.
- end_time
  This is the relative time in seconds to the start time of bag files, when the bag files will stop being played. If you want bag files to be played to the end, set this field to -1.

Note: you can specify multiple datasets here. Before you modify this file there is an example.
```bash
python3 batch_process_local.py config.json
```
Wait for Super Odometry to run all the datasets you specify in "config.json", and check results in "outputpath".
# If you want to SSH into a remote machine and run Super Odometry
Coming soon...
